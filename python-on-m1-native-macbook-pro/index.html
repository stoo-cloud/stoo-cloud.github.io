<!DOCTYPE html>
<html lang="en-us">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>Python on M1 native Macbook Pro 2021 - firstblog ☁️  stoo.cloud</title><meta name="Description" content="A site with my musings of working in the Cloud"><meta property="og:title" content="Python on M1 native Macbook Pro 2021" />
<meta property="og:description" content="What have we got After upgrading to the new Macbook Pro with the M1 Pro processor at the end of 2021, it was time to install a newer version of Python.
$ /echo $PATH /usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin $ which python /usr/bin/python $ python --version Python 2.7.18 While MacOS includes a version of Python I wanted a newer version and to keep it seperate from what Apple was using the other version for, and perhaps to have multiple environments for development." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://stoo-cloud.github.io/python-on-m1-native-macbook-pro/" /><meta property="og:image" content="https://stoo-cloud.github.io/logo.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-12-14T15:56:18+11:00" />
<meta property="article:modified_time" content="2021-12-14T15:56:18+11:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://stoo-cloud.github.io/logo.png"/>

<meta name="twitter:title" content="Python on M1 native Macbook Pro 2021"/>
<meta name="twitter:description" content="What have we got After upgrading to the new Macbook Pro with the M1 Pro processor at the end of 2021, it was time to install a newer version of Python.
$ /echo $PATH /usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin $ which python /usr/bin/python $ python --version Python 2.7.18 While MacOS includes a version of Python I wanted a newer version and to keep it seperate from what Apple was using the other version for, and perhaps to have multiple environments for development."/>
<meta name="application-name" content="stoo.cloud">
<meta name="apple-mobile-web-app-title" content="stoo.cloud"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://stoo-cloud.github.io/python-on-m1-native-macbook-pro/" /><link rel="next" href="https://stoo-cloud.github.io/second_post/" /><link rel="stylesheet" href="/lib/normalize/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="/lib/animate/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Python on M1 native Macbook Pro 2021",
        "inLanguage": "en-us",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/stoo-cloud.github.io\/python-on-m1-native-macbook-pro\/"
        },"genre": "posts","wordcount":  647 ,
        "url": "https:\/\/stoo-cloud.github.io\/python-on-m1-native-macbook-pro\/","datePublished": "2021-12-14T15:56:18+11:00","dateModified": "2021-12-14T15:56:18+11:00","publisher": {
            "@type": "Organization",
            "name": ""},"author": {
                "@type": "Person",
                "name": "Stoo"
            },"description": ""
    }
    </script></head>
    <body header-desktop="fixed" header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="firstblog ☁️  stoo.cloud">firstblog ☁️  stoo.cloud </a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> Posts </a><a class="menu-item" href="/tags/"> Tags </a><a class="menu-item" href="/categories/"> Categories </a><a class="menu-item" href="/about"> About </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Clear">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="firstblog ☁️  stoo.cloud">firstblog ☁️  stoo.cloud </a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Cancel
                    </a>
                </div><a class="menu-item" href="/posts/" title="">Posts</a><a class="menu-item" href="/tags/" title="">Tags</a><a class="menu-item" href="/categories/" title="">Categories</a><a class="menu-item" href="/about" title="">About</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content always-active" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animated flipInX">Python on M1 native Macbook Pro 2021</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="https://firstblog.ctoo.cloud/about" title="Author" target="_blank" rel="noopener noreffer author" class="author"><i class="fas fa-user-circle fa-fw"></i>Stoo</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2021-12-14">2021-12-14</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;647 words&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;4 minutes&nbsp;</div>
        </div><div class="details toc" id="toc-static"  kept="">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#what-have-we-got">What have we got</a></li>
    <li><a href="#homebrew">Homebrew</a>
      <ul>
        <li><a href="#installing-homebrew">Installing Homebrew</a></li>
      </ul>
    </li>
    <li><a href="#python">Python</a>
      <ul>
        <li><a href="#installing-python-399-or-higher">Installing Python 3.9.9 or higher</a></li>
      </ul>
    </li>
    <li><a href="#checking-the-python-installation">Checking the Python installation</a>
      <ul>
        <li><a href="#change-some-links">Change some links</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><h2 id="what-have-we-got">What have we got</h2>
<p>After upgrading to the new Macbook Pro with the M1 Pro processor at the end of 2021, it was time to install a newer version of Python.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-Shell" data-lang="Shell">$ /echo <span class="nv">$PATH</span>
/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin

$ which python
/usr/bin/python

$ python --version
Python 2.7.18
</code></pre></div><p>While MacOS includes a version of Python I wanted a newer version and to keep it seperate from what Apple was using the other version for, and perhaps to have multiple environments for development.</p>
<p>Git seems to be installed in MacOS Monterey and is a recent enough version to leave it as is for now.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-Shell" data-lang="Shell">$ git --version
git version 2.32.0 <span class="o">(</span>Apple Git-132<span class="o">)</span>
</code></pre></div><p>I have decided to use Homebrew as the package manager for tools not included by Apple, and there will be many of these tools that can be easily installed when required.  Homebrew has support for the Apple Silicon CPU and hence the best optoin for my M1 Pro processor.</p>
<h2 id="homebrew">Homebrew</h2>
<h3 id="installing-homebrew">Installing Homebrew</h3>
<p>The Instructions are easy enough to follow, with the requirements showing that Xcode will need to be installed.</p>
<p>The only other main point is that it wants Borne-again shell (i.e. bash) to be the shell used for installation.  I did not have issues using the now default zsh shell, other than having to rebuild the <em>hash</em> table (see note below). It seems to call bash to interpret the downloaded script anyway.</p>
<p>Follow the instructions, and run the <code>bash curl URL/install.sh</code> command, which will do all the hard work and install everything under the path /opt/homebrew for Apple Silicon CPUs.</p>
<blockquote>
<p>Go forth and use the Homebrew installation docs:</p>
<p><a href="https://docs.brew.sh/Installation" target="_blank" rel="noopener noreffer">https://docs.brew.sh/Installation</a></p>
</blockquote>
<p>When opening up a new terminal, the zsh profile <code>~/.zprofile</code> should set up the correct path from the installation.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-Shell" data-lang="Shell">$ cat ~/.zprofile
<span class="nb">eval</span> <span class="s2">&#34;</span><span class="k">$(</span>/opt/homebrew/bin/brew shellenv<span class="k">)</span><span class="s2">&#34;</span>
<span class="nb">alias</span> <span class="nv">ll</span><span class="o">=</span><span class="s2">&#34;ls -l&#34;</span>
</code></pre></div><p>That last alias gives me Linux love to my Mac and helps with my typing muscle memory.</p>
<h2 id="python">Python</h2>
<h3 id="installing-python-399-or-higher">Installing Python 3.9.9 or higher</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-Shell" data-lang="Shell">brew install python
</code></pre></div><p>It really is that easy.</p>
<h2 id="checking-the-python-installation">Checking the Python installation</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-Shell" data-lang="Shell"><span class="nb">echo</span> <span class="nv">$PATH</span>
/opt/homebrew/bin:/opt/homebrew/sbin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin

% <span class="k">for</span> FILE in <span class="sb">`</span>which -a python3<span class="sb">`</span><span class="p">;</span> <span class="k">do</span> <span class="nb">echo</span> -n <span class="s2">&#34;</span><span class="nv">$FILE</span><span class="s2"> is &#34;</span><span class="p">;</span> <span class="nv">$FILE</span> --version<span class="p">;</span> <span class="k">done</span>
/opt/homebrew/bin/python3 is Python 3.9.9
/usr/bin/python3 is Python 3.8.9

% <span class="k">for</span> FILE in <span class="sb">`</span>which -a python<span class="sb">`</span><span class="p">;</span> <span class="k">do</span> <span class="nb">echo</span> -n <span class="s2">&#34;</span><span class="nv">$FILE</span><span class="s2"> is &#34;</span><span class="p">;</span> <span class="nv">$FILE</span> --version<span class="p">;</span> <span class="k">done</span>
/opt/homebrew/bin/python is Python 3.9.9
/usr/bin/python is Python 2.7.18
</code></pre></div><p><code>Note:</code>  As mentioned, because I ran python earlier or its path was already cached in the zsh hash table of names, I was not seeing the new install version and was seeing the Apple version of python version.  The hash table needs to be emptied and rebuilt, which is done easily with the following.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-Shell" data-lang="Shell"><span class="nb">hash</span> -r
</code></pre></div><p>Now we can see inside zsh that it is finding the intended version (not cashed in the hash).</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-Shell" data-lang="Shell">% <span class="k">for</span> FILE in <span class="sb">`</span>which -a python3<span class="sb">`</span><span class="p">;</span> <span class="k">do</span> <span class="nb">echo</span> -n <span class="s2">&#34;</span><span class="nv">$FILE</span><span class="s2"> is &#34;</span><span class="p">;</span> <span class="nv">$FILE</span> --version<span class="p">;</span> <span class="k">done</span>
/opt/homebrew/bin/python3 is Python 3.9.9
/usr/bin/python3 is Python 3.8.9

% <span class="k">for</span> FILE in <span class="sb">`</span>which -a python<span class="sb">`</span><span class="p">;</span> <span class="k">do</span> <span class="nb">echo</span> -n <span class="s2">&#34;</span><span class="nv">$FILE</span><span class="s2"> is &#34;</span><span class="p">;</span> <span class="nv">$FILE</span> --version<span class="p">;</span> <span class="k">done</span>
/opt/homebrew/bin/python is Python 3.9.9
/usr/bin/python is Python 2.7.18
</code></pre></div><h3 id="change-some-links">Change some links</h3>
<p>The last thing I did was to assume we are always running the command &ldquo;python3&rdquo; even when we just run &ldquo;python&rdquo;.  I have switched my thinking to be in python3 unless I specify the path to Python 2.  So I have linked it as below.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-Shell" data-lang="Shell">$ <span class="nb">cd</span> /opt/homebrew/bin
$ ls -l

$ ln -s python3 python
$ ln -s python3-config python-config
$ ln -s pip3 pip
</code></pre></div><p>Dont forget to re-hash again</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-Shell" data-lang="Shell">$ <span class="nb">hash</span> -r
</code></pre></div><p>So now we have the everything</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-Shell" data-lang="Shell">% which python3
/opt/homebrew/bin/python3

% which python 
/opt/homebrew/bin/python

$ <span class="k">for</span> FILE in <span class="sb">`</span>which -a python3<span class="sb">`</span><span class="p">;</span> <span class="k">do</span> <span class="nb">echo</span> -n <span class="s2">&#34;</span><span class="nv">$FILE</span><span class="s2"> is &#34;</span><span class="p">;</span> <span class="nv">$FILE</span> --version<span class="p">;</span> <span class="k">done</span>
/opt/homebrew/bin/python3 is Python 3.9.9
/usr/bin/python3 is Python 3.8.9

% <span class="k">for</span> FILE in <span class="sb">`</span>which -a python<span class="sb">`</span><span class="p">;</span> <span class="k">do</span> <span class="nb">echo</span> -n <span class="s2">&#34;</span><span class="nv">$FILE</span><span class="s2"> is &#34;</span><span class="p">;</span> <span class="nv">$FILE</span> --version<span class="p">;</span> <span class="k">done</span> 
/opt/homebrew/bin/python is Python 3.9.9
/usr/bin/python is Python 2.7.18
</code></pre></div><p>Thats is it, time to go do some Python 3 programming!</p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 2021-12-14</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"><span>
                            <a class="link-to-markdown" href="/python-on-m1-native-macbook-pro/index.md" target="_blank">Read Markdown</a>
                        </span></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="Share on Twitter" data-sharer="twitter" data-url="https://stoo-cloud.github.io/python-on-m1-native-macbook-pro/" data-title="Python on M1 native Macbook Pro 2021" data-via="xxxx"><i class="fab fa-twitter fa-fw"></i></a><a href="javascript:void(0);" title="Share on Facebook" data-sharer="facebook" data-url="https://stoo-cloud.github.io/python-on-m1-native-macbook-pro/"><i class="fab fa-facebook-square fa-fw"></i></a><a href="javascript:void(0);" title="Share on WhatsApp" data-sharer="whatsapp" data-url="https://stoo-cloud.github.io/python-on-m1-native-macbook-pro/" data-title="Python on M1 native Macbook Pro 2021" data-web><i class="fab fa-whatsapp fa-fw"></i></a><a href="javascript:void(0);" title="Share on Line" data-sharer="line" data-url="https://stoo-cloud.github.io/python-on-m1-native-macbook-pro/" data-title="Python on M1 native Macbook Pro 2021"><i data-svg-src="/lib/simple-icons/icons/line.min.svg"></i></a><a href="javascript:void(0);" title="Share on 微博" data-sharer="weibo" data-url="https://stoo-cloud.github.io/python-on-m1-native-macbook-pro/" data-title="Python on M1 native Macbook Pro 2021"><i class="fab fa-weibo fa-fw"></i></a><a href="javascript:void(0);" title="Share on Myspace" data-sharer="myspace" data-url="https://stoo-cloud.github.io/python-on-m1-native-macbook-pro/" data-title="Python on M1 native Macbook Pro 2021" data-description=""><i data-svg-src="/lib/simple-icons/icons/myspace.min.svg"></i></a><a href="javascript:void(0);" title="Share on Blogger" data-sharer="blogger" data-url="https://stoo-cloud.github.io/python-on-m1-native-macbook-pro/" data-title="Python on M1 native Macbook Pro 2021" data-description=""><i class="fab fa-blogger fa-fw"></i></a><a href="javascript:void(0);" title="Share on Evernote" data-sharer="evernote" data-url="https://stoo-cloud.github.io/python-on-m1-native-macbook-pro/" data-title="Python on M1 native Macbook Pro 2021"><i class="fab fa-evernote fa-fw"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/">Home</a></span>
        </section>
    </div>

    <div class="post-nav">
            <a href="/second_post/" class="next" rel="next" title="Second Post">Second Post<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
<div id="comments"></div></article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.90.1">Hugo</a> | Theme - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i> LoveIt</a>
                </div><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2019 - 2021</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="https://firstblog.ctoo.cloud/about" target="_blank">Stoo</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><link rel="stylesheet" href="/lib/katex/katex.min.css"><link rel="stylesheet" href="/lib/katex/copy-tex.min.css"><link rel="stylesheet" href="/lib/cookieconsent/cookieconsent.min.css"><script type="text/javascript" src="/lib/smooth-scroll/smooth-scroll.min.js"></script><script type="text/javascript" src="/lib/autocomplete/autocomplete.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/sharer/sharer.min.js"></script><script type="text/javascript" src="/lib/katex/katex.min.js"></script><script type="text/javascript" src="/lib/katex/auto-render.min.js"></script><script type="text/javascript" src="/lib/katex/copy-tex.min.js"></script><script type="text/javascript" src="/lib/katex/mhchem.min.js"></script><script type="text/javascript" src="/lib/cookieconsent/cookieconsent.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":10},"comment":{},"cookieconsent":{"content":{"dismiss":"Got it!","link":"Learn more","message":"This website uses Cookies to improve your experience."},"enable":true,"palette":{"button":{"background":"#f0f0f0"},"popup":{"background":"#1aa3ff"}},"theme":"edgeless"},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"search":{"highlightTag":"em","lunrIndexURL":"/index.json","maxResultLength":10,"noResultsFound":"No results found","snippetLength":30,"type":"lunr"}};</script><script type="text/javascript" src="/js/theme.min.js"></script><script type="text/javascript">
            window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());
            gtag('config', 'G-7MQ2PDHFQJ');
        </script><script type="text/javascript" src="https://www.googletagmanager.com/gtag/js?id=G-7MQ2PDHFQJ" async></script></body>
</html>
